# 用語集（作業中）

## はじめに
この文書では Carp で頻繁に用いられる単語や概念、専門用語をまとめています。命名やドキュメント作成時の指針として役立ててください。表記揺れや曖昧さを減らし、Carp のエコシステム全体に一貫性を持たせることを目指しています。

この文書へのプルリクエストを歓迎します。「こんな用語もある」と思ったらぜひ [Gitter チャンネル](https://gitter.im/eriksvedang/Carp?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge) で教えてください。

### Mutating function（破壊的関数）
厳密にはどのような意味で使うべきでしょうか。理想的には末尾が `!` で戻り値が `()` の関数に限って使うのが良いと思われます。「外部破壊的関数」や「exo-function」といった呼び名も候補です。

### Owning function（所有関数）
*所有関数* は引数として受け取った値の所有権を取得する関数です。メモリの解放責任を持ち、別の所有関数に渡すか戻り値として返さない限り、自分で解放する必要があります。

### Borrowing function（借用関数）
*借用関数* は引数の所有権を取得しない関数です。値のメモリを解放することは許されず、そのままの状態で保つ必要があります。

### Transforming function / endo-functions
所有権を取得しつつ内部で破壊的変更を行う関数（`endo-map` など）を何と呼ぶべきか検討中です。Carp ではよく登場するスタイルであり、コピーや確保を伴わずに関数型スタイルを実現できます。

### Unsafe function（アンセーフ関数）
アンセーフ関数は多くの場合 `unsafe-` プレフィックスで始まり、特定の前提条件が満たされないとプログラムがクラッシュする可能性があります。例として `Array.unsafe-first` は配列の先頭要素を返す関数ですが、空配列に対して呼び出すとクラッシュします。

`unsafe-` プレフィックスは慣習的な命名であり、例外も存在します。たとえば `Array.nth` は不正なインデックスを渡すとクラッシュしますが、`unsafe-` は付いていません。アンセーフな関数は必ずドキュメントなどで明記し、ライブラリコードでは積極的に `unsafe-` プレフィックスを用いることを推奨します。

### REPL
*REPL* は「Read Eval Print Loop」の略で、Lisp 系言語にとって一般的な機能です。対話的に式を入力して実行できます。Carp では必ず大文字で表記します。
